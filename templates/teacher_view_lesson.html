{% extends "base.html" %}

{% block title %}View Lesson{% endblock %}

{% block content %}

<div class="card shadow-sm">
    <div class="card-header bg-secondary text-white">
        <h5 class="mb-0">{{ lesson.lesson_title }}</h5>
    </div>

    <div class="card-body">

        <!-- BASIC INFO -->
        <div class="row mb-3">
            <div class="col-md-3"><strong>Subject:</strong> {{ lesson.subject }}</div>
            <div class="col-md-3"><strong>Class:</strong> {{ lesson.class_name }}</div>
            <div class="col-md-3"><strong>Week Ending:</strong> {{ lesson.week_ending }}</div>
            <div class="col-md-3"><strong>Lesson Date:</strong> {{ lesson.lesson_date.strftime('%d %b %Y') }}</div>
        </div>

        <div class="row mb-3">
            <div class="col-md-4"><strong>Class Size:</strong> {{ lesson.class_size }}</div>
            <div class="col-md-4"><strong>Day:</strong> {{ lesson.day }}</div>
            <div class="col-md-4"><strong>Period:</strong> {{ lesson.period }}</div>
        </div>

        <hr>

        <!-- CURRICULUM INFORMATION -->
        <h6>Curriculum Information</h6>
        <p><strong>Strand:</strong> {{ lesson.strand }}</p>
        <p><strong>Sub Strand:</strong> {{ lesson.sub_strand }}</p>
        <p><strong>Indicator Code:</strong> {{ lesson.indicator_code }}</p>
        <p><strong>Content Standard:</strong> {{ lesson.content_standard_code }}</p>
        <p><strong>Performance Indicator:</strong> {{ lesson.performance_indicator }}</p>

        <hr>

        <!-- TEACHING & LEARNING RESOURCES -->
        <h6>Teaching & Learning Resources</h6>
        <p><strong>Core Competencies:</strong> {{ lesson.core_competencies }}</p>
        <p><strong>Keywords:</strong> {{ lesson.keywords }}</p>
        <p><strong>TLR:</strong> {{ lesson.tlr }}</p>
        <p><strong>Reference:</strong> {{ lesson.reference }}</p>

        <hr>

        <!-- LESSON PHASES -->
        <h6>Lesson Phases</h6>

        <div class="mb-3">
            <span class="badge bg-primary">Starter</span>
            <p class="mt-2">{{ lesson.phase1 }}</p>
        </div>

        <div class="mb-3">
            <span class="badge bg-success">Main</span>
            <p class="mt-2">{{ lesson.phase2 }}</p>
        </div>

        <div class="mb-3">
            <span class="badge bg-warning text-dark">Plenary</span>
            <p class="mt-2">{{ lesson.phase3 }}</p>
        </div>

    </div>

    <div class="card-footer text-end">
        <a href="{{ url_for('export_lesson', lesson_id=lesson.id) }}" 
           class="btn btn-outline-primary" target="_blank">
            Export PDF
        </a>
        <a href="javascript:window.print()" class="btn btn-outline-secondary">
            Print
        </a>
    </div>
</div>

{% endblock %}
