<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Lesson Plan</title>
    <style>
        body {
            font-family: "Times New Roman", serif;
            font-size: 12pt;
        }

        h2 {
            text-align: center;
            margin-bottom: 15px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
            table-layout: fixed; /* consistent column widths */
        }

        th, td {
            border: 1px solid #000;
            padding: 5px;
            vertical-align: top;
            word-wrap: break-word; /* wraps long text */
        }

        th {
            background-color: #f0f0f0;
            width: 30%;
            text-align: left;
        }

        td {
            width: 70%;
        }

        .section-title {
            background-color: #ddd;
            font-weight: bold;
            text-align: center;
        }

        .spacer {
            height: 80px;
        }
    </style>
</head>
<body>

<h2>LESSON PLAN</h2>

<!-- General Info -->
<table>
    <tr>
        <th>Teacher</th>
        <td>{{ lesson.teacher.name if lesson.teacher else "" }}</td>
    </tr>
    <tr>
        <th>Subject</th>
        <td>{{ lesson.subject }}</td>
    </tr>
    <tr>
        <th>Class</th>
        <td>{{ lesson.class_name }}</td>
    </tr>
    <tr>
        <th>Lesson Date</th>
        <td>{{ lesson.lesson_date.strftime('%d %b %Y') if lesson.lesson_date else "" }}</td>
    </tr>
    <tr>
        <th>Week Ending</th>
        <td>{{ lesson.week_ending }}</td>
    </tr>
    <tr>
        <th>Day</th>
        <td>{{ lesson.day }}</td>
    </tr>
    <tr>
        <th>Period</th>
        <td>{{ lesson.period }}</td>
    </tr>
</table>

<!-- Curriculum Details -->
<table>
    <tr>
        <td colspan="2" class="section-title">CURRICULUM DETAILS</td>
    </tr>
    <tr>
        <th>Strand</th>
        <td>{{ lesson.strand }}</td>
    </tr>
    <tr>
        <th>Sub-Strand</th>
        <td>{{ lesson.sub_strand }}</td>
    </tr>
    <tr>
        <th>Indicator Code</th>
        <td>{{ lesson.indicator_code }}</td>
    </tr>
    <tr>
        <th>Performance Indicator</th>
        <td>{{ lesson.performance_indicator }}</td>
    </tr>
    <tr>
        <th>Core Competencies</th>
        <td>{{ lesson.core_competencies }}</td>
    </tr>
</table>

<!-- Lesson Phases -->
<table>
    <tr>
        <td colspan="2" class="section-title">LESSON PHASES</td>
    </tr>
    <tr>
        <th>Starter (Phase 1)</th>
        <td>{{ lesson.phase1 }}</td>
    </tr>
    <tr>
        <th>Main (Phase 2)</th>
        <td>{{ lesson.phase2 }}</td>
    </tr>
    <tr>
        <th>Plenary (Phase 3)</th>
        <td>{{ lesson.phase3 }}</td>
    </tr>
</table>

<!-- Headmaster Comments -->
<table>
    <tr>
        <td colspan="2" class="section-title">HEADMASTER'S COMMENTS</td>
    </tr>
    <tr>
        <td colspan="2" class="spacer">{{ lesson.headmaster_comment or "" }}</td>
    </tr>
</table>

</body>
</html>